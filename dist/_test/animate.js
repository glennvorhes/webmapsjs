"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var quickMap_1 = require("../olHelpers/quickMap");
var LayerRealEarthTile_1 = require("../layers/LayerRealEarthTile");
var media_control_1 = require("../domUtil/media-control");
var $ = require("jquery");
var LayerBaseVectorEsri_1 = require("../layers/LayerBaseVectorEsri");
var LayerEsriMapServer_1 = require("../layers/LayerEsriMapServer");
require("jquery-ui");
var nexrhresStatic = new LayerRealEarthTile_1.default({
    products: 'nexrhres',
    id: 'nexrhres-static',
    opacity: 0.6,
    animate: true,
    name: 'Hybrid Reflectivity',
    // maxZoom: 10,
    timeLoadCallback: function (f) {
        console.log(f);
    }
});
var d = new Date();
var endTime = d.getTime();
d.setHours(d.getHours() - 4);
var startTime = d.getTime();
var rangeStep = Math.round((endTime - startTime) / 8);
var media = new media_control_1.MediaControl($('#control'), function (v) {
    nexrhresStatic.setLayerTime(v);
}, {
    min: startTime,
    max: endTime,
    val: endTime,
    step: rangeStep,
    playInterval: 750,
    showAsDate: true
});
var map = quickMap_1.quickMap();
map.addLayer(nexrhresStatic.olLayer);
var coordinationLayer = new LayerBaseVectorEsri_1.LayerBaseVectorEsri('http://transportal.cee.wisc.edu/applications/arcgis2/rest/services/GLRTOC/GlrtocCoordination/MapServer/0', {
    visible: true,
    autoLoad: true,
    name: 'Coordination',
    useEsriStyle: true
});
map.addLayer(coordinationLayer.olLayer);
var oakRidgeLayers = [
    ['Cameras', 'cameras33'],
    ['HAR', 'HAR33'],
    ['DMS', 'MessageSigns33'],
    //['State Summary', 'statesummary'],
    ['Traffic Control', 'TrafficControl33'],
    ['Traffic Detection', 'TrafficDetectionMulti'],
    ['Weather', 'Weather33']
];
for (var i = 0; i < oakRidgeLayers.length; i++) {
    var oakRidgeLayer = new LayerEsriMapServer_1.LayerEsriMapServer("http://itsdpro.ornl.gov/arcgis/rest/services/ITSPublic/" + oakRidgeLayers[i][1] + "/MapServer", {
        id: oakRidgeLayers[i][1],
        name: oakRidgeLayers[i][0],
        visible: true,
        minZoom: 7,
        zIndex: 20,
        addPopup: true,
        legendCollapse: true
    });
    map.addLayer(oakRidgeLayer.olLayer);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5pbWF0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9fdGVzdC9hbmltYXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsa0RBQStDO0FBQy9DLG1FQUE4RDtBQUM5RCwwREFBc0U7QUFDdEUsMEJBQTZCO0FBQzdCLHFFQUFrRTtBQUNsRSxtRUFBZ0U7QUFDaEUscUJBQW1CO0FBR25CLElBQUksY0FBYyxHQUFHLElBQUksNEJBQWtCLENBQUM7SUFDcEMsUUFBUSxFQUFFLFVBQVU7SUFDcEIsRUFBRSxFQUFFLGlCQUFpQjtJQUNyQixPQUFPLEVBQUUsR0FBRztJQUNaLE9BQU8sRUFBRSxJQUFJO0lBQ2IsSUFBSSxFQUFFLHFCQUFxQjtJQUMzQixlQUFlO0lBQ2YsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDO1FBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkIsQ0FBQztDQUNKLENBQ0osQ0FBQztBQUdGLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7QUFDbkIsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQzFCLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQzdCLElBQUksU0FBUyxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUM1QixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBRXRELElBQUksS0FBSyxHQUFHLElBQUksNEJBQVksQ0FDeEIsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxFQUNiLFVBQUMsQ0FBUztJQUNOLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbkMsQ0FBQyxFQUNEO0lBQ0ksR0FBRyxFQUFFLFNBQVM7SUFDZCxHQUFHLEVBQUUsT0FBTztJQUNaLEdBQUcsRUFBRSxPQUFPO0lBQ1osSUFBSSxFQUFFLFNBQVM7SUFDZixZQUFZLEVBQUUsR0FBRztJQUNqQixVQUFVLEVBQUUsSUFBSTtDQUNuQixDQUNKLENBQUM7QUFHRixJQUFJLEdBQUcsR0FBRyxtQkFBUSxFQUFFLENBQUM7QUFDckIsR0FBRyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7QUFHckMsSUFBSSxpQkFBaUIsR0FBRyxJQUFJLHlDQUFtQixDQUMzQywwR0FBMEcsRUFDMUc7SUFDSSxPQUFPLEVBQUUsSUFBSTtJQUNiLFFBQVEsRUFBRSxJQUFJO0lBQ2QsSUFBSSxFQUFFLGNBQWM7SUFDcEIsWUFBWSxFQUFFLElBQUk7Q0FDckIsQ0FDSixDQUFDO0FBRUYsR0FBRyxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUVwQyxJQUFJLGNBQWMsR0FBRztJQUNqQixDQUFDLFNBQVMsRUFBRSxXQUFXLENBQUM7SUFDeEIsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDO0lBQ2hCLENBQUMsS0FBSyxFQUFFLGdCQUFnQixDQUFDO0lBQ3pCLG9DQUFvQztJQUNwQyxDQUFDLGlCQUFpQixFQUFFLGtCQUFrQixDQUFDO0lBQ3ZDLENBQUMsbUJBQW1CLEVBQUUsdUJBQXVCLENBQUM7SUFDOUMsQ0FBQyxTQUFTLEVBQUUsV0FBVyxDQUFDO0NBQzNCLENBQUM7QUFHRixHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLGNBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztJQUM3QyxJQUFJLGFBQWEsR0FBRyxJQUFJLHVDQUFrQixDQUN0Qyw0REFBMEQsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxlQUFZLEVBQzFGO1FBQ0ksRUFBRSxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEIsSUFBSSxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUIsT0FBTyxFQUFFLElBQUk7UUFDYixPQUFPLEVBQUUsQ0FBQztRQUNWLE1BQU0sRUFBRSxFQUFFO1FBQ1YsUUFBUSxFQUFFLElBQUk7UUFDZCxjQUFjLEVBQUUsSUFBSTtLQUN2QixDQUNKLENBQUM7SUFDRixHQUFHLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUN4QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtxdWlja01hcH0gZnJvbSAnLi4vb2xIZWxwZXJzL3F1aWNrTWFwJztcclxuaW1wb3J0IExheWVyUmVhbEVhcnRoVGlsZSBmcm9tIFwiLi4vbGF5ZXJzL0xheWVyUmVhbEVhcnRoVGlsZVwiO1xyXG5pbXBvcnQge01lZGlhQ29udHJvbCwgY2hhbmdlRnVuY3Rpb259IGZyb20gXCIuLi9kb21VdGlsL21lZGlhLWNvbnRyb2xcIjtcclxuaW1wb3J0ICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxuaW1wb3J0IHtMYXllckJhc2VWZWN0b3JFc3JpfSBmcm9tIFwiLi4vbGF5ZXJzL0xheWVyQmFzZVZlY3RvckVzcmlcIjtcclxuaW1wb3J0IHtMYXllckVzcmlNYXBTZXJ2ZXJ9IGZyb20gXCIuLi9sYXllcnMvTGF5ZXJFc3JpTWFwU2VydmVyXCI7XHJcbmltcG9ydCAnanF1ZXJ5LXVpJztcclxuXHJcblxyXG5sZXQgbmV4cmhyZXNTdGF0aWMgPSBuZXcgTGF5ZXJSZWFsRWFydGhUaWxlKHtcclxuICAgICAgICBwcm9kdWN0czogJ25leHJocmVzJyxcclxuICAgICAgICBpZDogJ25leHJocmVzLXN0YXRpYycsXHJcbiAgICAgICAgb3BhY2l0eTogMC42LFxyXG4gICAgICAgIGFuaW1hdGU6IHRydWUsXHJcbiAgICAgICAgbmFtZTogJ0h5YnJpZCBSZWZsZWN0aXZpdHknLFxyXG4gICAgICAgIC8vIG1heFpvb206IDEwLFxyXG4gICAgICAgIHRpbWVMb2FkQ2FsbGJhY2s6IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuKTtcclxuXHJcblxyXG5sZXQgZCA9IG5ldyBEYXRlKCk7XHJcbmxldCBlbmRUaW1lID0gZC5nZXRUaW1lKCk7XHJcbmQuc2V0SG91cnMoZC5nZXRIb3VycygpIC0gNCk7XHJcbmxldCBzdGFydFRpbWUgPSBkLmdldFRpbWUoKTtcclxubGV0IHJhbmdlU3RlcCA9IE1hdGgucm91bmQoKGVuZFRpbWUgLSBzdGFydFRpbWUpIC8gOCk7XHJcblxyXG5sZXQgbWVkaWEgPSBuZXcgTWVkaWFDb250cm9sKFxyXG4gICAgJCgnI2NvbnRyb2wnKSxcclxuICAgICh2OiBudW1iZXIpID0+IHtcclxuICAgICAgICBuZXhyaHJlc1N0YXRpYy5zZXRMYXllclRpbWUodik7XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG1pbjogc3RhcnRUaW1lLFxyXG4gICAgICAgIG1heDogZW5kVGltZSxcclxuICAgICAgICB2YWw6IGVuZFRpbWUsXHJcbiAgICAgICAgc3RlcDogcmFuZ2VTdGVwLFxyXG4gICAgICAgIHBsYXlJbnRlcnZhbDogNzUwLFxyXG4gICAgICAgIHNob3dBc0RhdGU6IHRydWVcclxuICAgIH1cclxuKTtcclxuXHJcblxyXG5sZXQgbWFwID0gcXVpY2tNYXAoKTtcclxubWFwLmFkZExheWVyKG5leHJocmVzU3RhdGljLm9sTGF5ZXIpO1xyXG5cclxuXHJcbmxldCBjb29yZGluYXRpb25MYXllciA9IG5ldyBMYXllckJhc2VWZWN0b3JFc3JpKFxyXG4gICAgJ2h0dHA6Ly90cmFuc3BvcnRhbC5jZWUud2lzYy5lZHUvYXBwbGljYXRpb25zL2FyY2dpczIvcmVzdC9zZXJ2aWNlcy9HTFJUT0MvR2xydG9jQ29vcmRpbmF0aW9uL01hcFNlcnZlci8wJyxcclxuICAgIHtcclxuICAgICAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAgICAgIGF1dG9Mb2FkOiB0cnVlLFxyXG4gICAgICAgIG5hbWU6ICdDb29yZGluYXRpb24nLFxyXG4gICAgICAgIHVzZUVzcmlTdHlsZTogdHJ1ZVxyXG4gICAgfVxyXG4pO1xyXG5cclxubWFwLmFkZExheWVyKGNvb3JkaW5hdGlvbkxheWVyLm9sTGF5ZXIpO1xyXG5cclxuICAgIGxldCBvYWtSaWRnZUxheWVycyA9IFtcclxuICAgICAgICBbJ0NhbWVyYXMnLCAnY2FtZXJhczMzJ10sXHJcbiAgICAgICAgWydIQVInLCAnSEFSMzMnXSxcclxuICAgICAgICBbJ0RNUycsICdNZXNzYWdlU2lnbnMzMyddLFxyXG4gICAgICAgIC8vWydTdGF0ZSBTdW1tYXJ5JywgJ3N0YXRlc3VtbWFyeSddLFxyXG4gICAgICAgIFsnVHJhZmZpYyBDb250cm9sJywgJ1RyYWZmaWNDb250cm9sMzMnXSxcclxuICAgICAgICBbJ1RyYWZmaWMgRGV0ZWN0aW9uJywgJ1RyYWZmaWNEZXRlY3Rpb25NdWx0aSddLFxyXG4gICAgICAgIFsnV2VhdGhlcicsICdXZWF0aGVyMzMnXVxyXG4gICAgXTtcclxuXHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYWtSaWRnZUxheWVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBvYWtSaWRnZUxheWVyID0gbmV3IExheWVyRXNyaU1hcFNlcnZlcihcclxuICAgICAgICAgICAgYGh0dHA6Ly9pdHNkcHJvLm9ybmwuZ292L2FyY2dpcy9yZXN0L3NlcnZpY2VzL0lUU1B1YmxpYy8ke29ha1JpZGdlTGF5ZXJzW2ldWzFdfS9NYXBTZXJ2ZXJgLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZDogb2FrUmlkZ2VMYXllcnNbaV1bMV0sXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBvYWtSaWRnZUxheWVyc1tpXVswXSxcclxuICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtaW5ab29tOiA3LFxyXG4gICAgICAgICAgICAgICAgekluZGV4OiAyMCxcclxuICAgICAgICAgICAgICAgIGFkZFBvcHVwOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbGVnZW5kQ29sbGFwc2U6IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWFwLmFkZExheWVyKG9ha1JpZGdlTGF5ZXIub2xMYXllcik7XHJcbiAgICB9XHJcblxyXG4iXX0=