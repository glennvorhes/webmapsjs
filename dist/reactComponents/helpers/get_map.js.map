{"version":3,"file":"get_map.js","sourceRoot":"","sources":["../../../src/reactComponents/helpers/get_map.ts"],"names":[],"mappings":";;AAMA,mBAAyB,GAAsB,EAAE,KAAW;IACxD,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;QAE/B,IAAI,OAAO,GAAG,IAAI,UAAU,EAAE;YAC1B,IAAI,QAAM,GAAG,GAAgB,CAAC;YAE9B,IAAI,GAAC,GAAG,WAAW,CAAC;gBAChB,IAAI,CAAC,GAAG,QAAM,EAAE,CAAC;gBAEjB,IAAI,CAAC,EAAE;oBACH,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;oBAClB,aAAa,CAAC,GAAC,CAAC,CAAC;oBACjB,OAAO,CAAC,CAAC,CAAC,CAAC;oBAC/B;mDAC+B;iBACd;YACL,CAAC,EAAE,EAAE,CAAC,CAAC;SACV;aAAM;YACH,IAAI,CAAC,GAAG,GAAU,CAAC;YACnB,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAClB,OAAO,CAAC,CAAC,CAAC,CAAC;SACd;IACL,CAAC,CAAC,CAAC;AACP,CAAC;AAvBD,4BAuBC","sourcesContent":["/**\r\n * Created by glenn on 7/6/2017.\r\n */\r\nimport Map from 'ol/Map';\r\nimport Base from 'ol/layer/Base';\r\n\r\nexport default function (map: Map | (() => Map), layer: Base): Promise<Map> {\r\n    return new Promise((resolve, reject) => {\r\n\r\n        if (typeof map == 'function') {\r\n            let getMap = map as () => Map;\r\n\r\n            let g = setInterval(() => {\r\n                let m = getMap();\r\n\r\n                if (m) {\r\n                    m.addLayer(layer);\r\n                    clearInterval(g);\r\n                    resolve(m);\r\n/*                    console.log(m);\r\n                    return m;*/\r\n                }\r\n            }, 15);\r\n        } else {\r\n            let m = map as Map;\r\n            m.addLayer(layer);\r\n            resolve(m);\r\n        }\r\n    });\r\n}\r\n\r\n"]}