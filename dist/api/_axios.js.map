{"version":3,"file":"_axios.js","sourceRoot":"","sources":["../../src/api/_axios.ts"],"names":[],"mappings":";;AAAA;;GAEG;AACH,+BAA0B;AAE1B,gDAAgD;AAEhD;;;;;;GAMG;AACH,kBAAkB,GAAyB,EAAE,MAAgB,EAAE,UAAsB;IAAtB,2BAAA,EAAA,iBAAsB;IACjF,IAAI,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAE/B,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;QACrB,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,KAAK,WAAW,GAAG,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;IAC/D,CAAC;IAAC,IAAI,CAAC,CAAC;QACJ,EAAE,CAAC,CAAC,OAAQ,GAAG,CAAC,CAAC,CAAC,KAAK,WAAW,CAAC,CAAC,CAAC;YACjC,MAAM,gBAAc,CAAC,SAAI,GAAG,CAAC,QAAQ,EAAI,CAAC;QAC9C,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;QACpC,CAAC;IACL,CAAC;AACL,CAAC;AAGD;;;;;;;GAOG;AACU,QAAA,GAAG,GAAG,UAAC,QAAgB,EACV,QAA4B,EAC5B,MAAmB,EACnB,KAAqC;IADrC,uBAAA,EAAA,WAAmB;IACnB,sBAAA,EAAA,sBAAoC,CAAC;IAC3D,eAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAC,MAAM,EAAE,MAAM,EAAC,CAAC,CAAC,IAAI,CAAC,UAAC,QAAa;QAErD,IAAI,IAAI,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC;QAC9C,QAAQ,CAAC,IAAI,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,MAAW;QACjB,KAAK,CAAC,MAAM,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC;AACP,CAAC,CAAC","sourcesContent":["/**\r\n * Created by glenn on 7/6/2017.\r\n */\r\nimport axios from 'axios';\r\n\r\n// export const CancelToken = axios.CancelToken;\r\n\r\n/**\r\n *\r\n * @param obj\r\n * @param keyArr\r\n * @param defaultVal\r\n * @returns\r\n */\r\nfunction getValue(obj: { [s: string]: any }, keyArr: string[], defaultVal: any = null): any {\r\n    let k = keyArr.splice(0, 1)[0];\r\n\r\n    if (keyArr.length == 0) {\r\n        return typeof obj[k] === 'undefined' ? defaultVal : obj[k];\r\n    } else {\r\n        if (typeof  obj[k] === 'undefined') {\r\n            throw `key error: ${k} ${obj.toString()}`;\r\n        } else {\r\n            return getValue(obj[k], keyArr);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n *\r\n * @param {string} endpoint\r\n * @param {(d: Object) => any} callback\r\n * @param {Object} params\r\n * @param {(d: Object) => any} error\r\n * @returns {any}\r\n */\r\nexport const get = (endpoint: string,\r\n                          callback: (d: Object) => any,\r\n                          params: Object = {},\r\n                          error: (d?: Object) => any = () => {}): any => {\r\n    axios.get(endpoint, {params: params}).then((response: any) => {\r\n\r\n        let data = getValue(response, ['data'], null);\r\n        callback(data);\r\n    }).catch((reason: any) => {\r\n        error(reason);\r\n    });\r\n};\r\n"]}