{"version":3,"file":"axios.js","sourceRoot":"","sources":["../../src/api/axios.ts"],"names":[],"mappings":"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","sourcesContent":["/**\r\n * Created by glenn on 7/6/2017.\r\n */\r\nimport axios from 'axios';\r\n\r\n// export const CancelToken = axios.CancelToken;\r\n\r\n/**\r\n *\r\n * @param obj\r\n * @param keyArr\r\n * @param defaultVal\r\n * @returns\r\n */\r\nfunction getValue(obj: { [s: string]: any }, keyArr: string[], defaultVal: any = null): any {\r\n    let k = keyArr.splice(0, 1)[0];\r\n\r\n    if (keyArr.length == 0) {\r\n        return typeof obj[k] === 'undefined' ? defaultVal : obj[k];\r\n    } else {\r\n        if (typeof  obj[k] === 'undefined') {\r\n            throw `key error: ${k} ${obj.toString()}`;\r\n        } else {\r\n            return getValue(obj[k], keyArr);\r\n        }\r\n    }\r\n}\r\n\r\nfunction _axiosHelper(endpoint: string,\r\n                          callback: (d: Object) => any,\r\n                          params: Object = {},\r\n                          error: (d?: Object) => any = () => {}, verb: string): any {\r\n\r\n    let f;\r\n\r\n    let payload;\r\n\r\n    switch (verb){\r\n        case 'get':\r\n            f = axios.get;\r\n            payload = {params: params};\r\n            break;\r\n        case 'post':\r\n            f = axios.post;\r\n            payload = params;\r\n            break;\r\n        case 'put':\r\n            f = axios.put;\r\n            payload = {params: params};\r\n            break;\r\n        case 'delete':\r\n            f = axios.delete;\r\n            payload = {params: params};\r\n            break;\r\n        default:\r\n            throw 'axios verb not found';\r\n\r\n    }\r\n\r\n    f(endpoint, payload).then((response: any) => {\r\n        let data = getValue(response, ['data'], null);\r\n        callback(data);\r\n    }).catch((reason: any) => {\r\n        error(reason);\r\n    });\r\n}\r\n\r\n\r\n\r\n/**\r\n *\r\n * @param {string} endpoint\r\n * @param {(d: Object) => any} callback\r\n * @param {Object} params\r\n * @param {(d: Object) => any} error\r\n * @returns {any}\r\n */\r\nexport const get = (endpoint: string,\r\n                          callback: (d: Object) => any,\r\n                          params: Object = {},\r\n                          error: (d?: Object) => any = () => {}): any => {\r\n\r\n    _axiosHelper(endpoint, callback, params, error, 'get');\r\n\r\n};\r\n\r\n\r\n/**\r\n *\r\n * @param {string} endpoint\r\n * @param {(d: Object) => any} callback\r\n * @param {Object} params\r\n * @param {(d: Object) => any} error\r\n * @returns {any}\r\n */\r\nexport const post = (endpoint: string,\r\n                          callback: (d: Object) => any,\r\n                          params: Object = {},\r\n                          error: (d?: Object) => any = () => {}): any => {\r\n\r\n    _axiosHelper(endpoint, callback, params, error, 'post');\r\n\r\n};\r\n\r\n\r\n/**\r\n *\r\n * @param {string} endpoint\r\n * @param {(d: Object) => any} callback\r\n * @param {Object} params\r\n * @param {(d: Object) => any} error\r\n * @returns {any}\r\n */\r\nexport const delete_ = (endpoint: string,\r\n                          callback: (d: Object) => any,\r\n                          params: Object = {},\r\n                          error: (d?: Object) => any = () => {}): any => {\r\n\r\n    _axiosHelper(endpoint, callback, params, error, 'delete');\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} endpoint\r\n * @param {(d: Object) => any} callback\r\n * @param {Object} params\r\n * @param {(d: Object) => any} error\r\n * @returns {any}\r\n */\r\nexport const put = (endpoint: string,\r\n                          callback: (d: Object) => any,\r\n                          params: Object = {},\r\n                          error: (d?: Object) => any = () => {}): any => {\r\n\r\n    _axiosHelper(endpoint, callback, params, error, 'put');\r\n\r\n};\r\n"]}