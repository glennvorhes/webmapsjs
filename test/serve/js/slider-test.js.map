{"version":3,"sources":["webpack:///slider-test.js","webpack:///webpack/bootstrap b0ebb0fd1b4953354d93?697d*********","webpack:///./src/util/provide.ts?5c82********","webpack:///external \"$\"?57aa********","webpack:///./src/collections/Sliders.ts","webpack:///./src/_tests/demos/slider-test.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","0","provide","namespace","window","gv","parts","split","nameSpace","length","util","default","1","$","56","provide_1","nm","TipPresets","conf","this","label","presets","domId","replace","toLowerCase","theSum","_i","_a","_Slider","sliderConfig","_dropdownSelection","_weight","_locked","_min","_max","labelLow","labelHigh","labelVal","slider","chk","atMin","atMax","sel","yearOptions","itm","column","selectedParamDefault","selectedParam","html","addToDom","$container","append","selectionBox","increment","delta","remainder","Number","toFixed","val","setValAndDropDown","newVal","min","max","weight","locked","set","prop","attr","TipSliders","sliderConfigs","presetConfig","divId","presetSelector","regionSelector","versionSelector","chgCallback","_this","resetting","reservedPercent","addClass","_changedCallback","_$presetSelector","_$regionSelector","_$versionSelector","_sliderList","_sliderLookup","sld","push","_presetArray","_presetLookup","preset","idx","_lockedList","_inRangeList","_atMinList","_atMaxList","lockedCount","notLockedCount","_splitSliderArray","change","setPresetValues","_runChangedCallback","trigger","_addEventListeners","paramWeightsRegionVersion","chg","thePreset","presetValues","theSlider","_handleRemainder","remain","skipDomId","canChangeArray","inc","newRemainder","setValues","keyValList","k","getSum","total","getParams","paramWeights","___this","find","$this","sldr","newValue","parseFloat","oldValue","diff","sum","loop1","domEl","id","checked","notLockedSliders","region","mmVersion","Sliders","78","Sliders_1","tipConfig","$loadingGif","$presetSelector","$regionSelector","$versionSelector","tipSegmentLayerMinZoom","slidersConfig","sliders","console","log"],"mappings":"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","file":"slider-test.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 78);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by gavorhes on 12/10/2015.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * create a namespace on the gv object\r\n * @param {string} namespace to create\r\n * @returns {object} object representing the namespace\r\n */\r\nfunction provide(namespace) {\r\n    \"use strict\";\r\n    if (typeof window.gv == 'undefined') {\r\n        window.gv = {};\r\n    }\r\n    var parts = namespace.split('.');\r\n    var nameSpace = window.gv;\r\n    for (var i = 0; i < parts.length; i++) {\r\n        var newObject = nameSpace[parts[i]];\r\n        if (typeof newObject == 'undefined') {\r\n            nameSpace[parts[i]] = {};\r\n        }\r\n        nameSpace = nameSpace[parts[i]];\r\n    }\r\n    return nameSpace;\r\n}\r\nprovide('util');\r\nwindow.gv.util.provide = provide;\r\nexports.default = provide;\r\n\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports) {\n\nmodule.exports = $;\n\n/***/ }),\n\n/***/ 56:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by gavorhes on 12/10/2015.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar provide_1 = __webpack_require__(0);\r\nvar $ = __webpack_require__(1);\r\nvar nm = provide_1.default('collections');\r\nvar TipPresets = (function () {\r\n    function TipPresets(conf) {\r\n        this.label = conf.label;\r\n        this.presets = conf.presets;\r\n        this.domId = this.label.replace(/ /g, '').toLowerCase();\r\n        var theSum = 0;\r\n        for (var _i = 0, _a = this.presets; _i < _a.length; _i++) {\r\n            var pr = _a[_i];\r\n            theSum += pr.value;\r\n        }\r\n        if (theSum != 100) {\r\n            throw 'preset sum does note equal 100';\r\n        }\r\n    }\r\n    return TipPresets;\r\n}());\r\nvar _Slider = (function () {\r\n    /**\r\n     * Slider constructor\r\n     * @param sliderConfig - the configuration\r\n\r\n     */\r\n    function _Slider(sliderConfig) {\r\n        this._dropdownSelection = null;\r\n        this._weight = null;\r\n        this.name = sliderConfig.label;\r\n        this.domId = this.name.toLowerCase().replace(/ /g, '-');\r\n        this._locked = false;\r\n        this._min = 0.0;\r\n        this._max = 100;\r\n        this.labelLow = null;\r\n        this.labelHigh = null;\r\n        this.labelVal = null;\r\n        this.slider = null;\r\n        this.chk = null;\r\n        this.atMin = false;\r\n        this.atMax = false;\r\n        var sel = \"<select class=\\\"\" + (sliderConfig.yearOptions.length == 1 ? 'hidden-select' : 'show-select') + \"\\\" id=\\\"\" + this.domId + \"_chg\\\">\";\r\n        for (var i = 0; i < sliderConfig.yearOptions.length; i++) {\r\n            var itm = sliderConfig.yearOptions[i];\r\n            sel += \"<option value=\\\"\" + itm.column + \"\\\">\" + itm.label + \"</option>\";\r\n        }\r\n        sel += '</select>';\r\n        this.selectedParamDefault = this.selectedParam;\r\n        this.html = '<div class=\"slider-div\">' +\r\n            (\"<label for=\\\"\" + this.domId + \"_chk\\\" class=\\\"slider-label\\\">\" + this.name + \"</label>\") +\r\n            sel + \"<br>\" +\r\n            (\"<input id=\\\"\" + this.domId + \"_chk\\\" type=\\\"checkbox\\\" title=\\\"Lock/Unlock Slider\\\">\") +\r\n            (\"<label id=\\\"\" + this.domId + \"_low\\\" class=\\\"low-high\\\"></label>\") +\r\n            (\"<input id=\\\"\" + this.domId + \"\\\" type=\\\"range\\\" value=\\\"50\\\" min=\\\"0\\\" max=\\\"100\\\" step=\\\"0.1\\\">\") +\r\n            (\"<label id=\\\"\" + this.domId + \"_high\\\" class=\\\"low-high\\\"></label>\") +\r\n            (\"<label id=\\\"\" + this.domId + \"_lbl\\\" for=\\\"\" + this.domId + \"\\\" class=\\\"percent-label\\\"></label></div>\");\r\n    }\r\n    /**\r\n     * add html to dom\r\n     * @param {jQuery} $container - container element\r\n     */\r\n    _Slider.prototype.addToDom = function ($container) {\r\n        $container.append(this.html);\r\n        this.labelLow = $(\"#\" + this.domId + \"_low\");\r\n        this.labelHigh = $(\"#\" + this.domId + \"_high\");\r\n        this.labelVal = $(\"#\" + this.domId + \"_lbl\");\r\n        this.slider = $(\"#\" + this.domId);\r\n        this.selectionBox = $(\"#\" + this.domId + \"_chg\");\r\n        this.chk = $(\"#\" + this.domId + \"_chk\");\r\n    };\r\n    /**\r\n     * increment the slider\r\n     * @param {number} delta change delta\r\n     * @returns {number} the remainder not able to be allocated to this slider\r\n     */\r\n    _Slider.prototype.increment = function (delta) {\r\n        var remainder = 0;\r\n        delta = Number(delta.toFixed(1));\r\n        this._weight += delta;\r\n        if (this._weight < this._min) {\r\n            remainder = this._min - this._weight;\r\n            this._weight = this._min;\r\n            this.atMin = true;\r\n        }\r\n        else if (this._weight > this._max) {\r\n            remainder = this._max - this._weight;\r\n            this._weight = this._max;\r\n            this.atMax = true;\r\n        }\r\n        else {\r\n            this.atMin = false;\r\n            this.atMax = false;\r\n        }\r\n        this.slider.val(this._weight.toFixed(1));\r\n        this.labelVal.html(this._weight.toFixed(1) + '%');\r\n        return remainder;\r\n    };\r\n    /**\r\n     * set the value and drop down\r\n     * @param {number} newVal the new value\r\n     * @param {string} selectedParam the selected parameter\r\n     */\r\n    _Slider.prototype.setValAndDropDown = function (newVal, selectedParam) {\r\n        this.min = 0;\r\n        this.max = 100;\r\n        this.weight = newVal;\r\n        this.slider.val(newVal.toFixed(1));\r\n        this.selectionBox.val(selectedParam);\r\n        this.selectedParam = selectedParam;\r\n        this.locked = true;\r\n    };\r\n    Object.defineProperty(_Slider.prototype, \"locked\", {\r\n        /**\r\n         *\r\n         * @returns {boolean} if locked\r\n         */\r\n        get: function () {\r\n            return this._locked;\r\n        },\r\n        /**\r\n         *\r\n         * @param {boolean} val if locked\r\n         */\r\n        set: function (val) {\r\n            this._locked = val;\r\n            this.slider.prop('disabled', this._locked);\r\n            this.selectionBox.prop('disabled', this._locked);\r\n            this.chk.prop('checked', !this._locked);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Slider.prototype, \"min\", {\r\n        /**\r\n         *\r\n         * @returns {number} the minimum\r\n         */\r\n        get: function () {\r\n            return this._min;\r\n        },\r\n        /**\r\n         *\r\n         * @param {number} newVal new minimum\r\n         */\r\n        set: function (newVal) {\r\n            this._min = Number(newVal.toFixed(1));\r\n            if (this._min < 0) {\r\n                this._min = 0;\r\n            }\r\n            this.labelLow.html(this._min.toFixed(1));\r\n            this.slider.attr('min', this._min.toFixed(1));\r\n            this.atMin = this._weight == this._min;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Slider.prototype, \"max\", {\r\n        /**\r\n         *\r\n         * @returns {number} the maximum\r\n         */\r\n        get: function () {\r\n            return this._max;\r\n        },\r\n        /**\r\n         *\r\n         * @param {number} newVal the maximum\r\n         */\r\n        set: function (newVal) {\r\n            this._max = Number(newVal.toFixed(1));\r\n            if (this._max > 100) {\r\n                this._max = 100.0;\r\n            }\r\n            this.labelHigh.html(this._max.toFixed(1));\r\n            this.slider.attr('max', this._max.toFixed(1));\r\n            this.atMax = this._weight == this._max;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Slider.prototype, \"weight\", {\r\n        /**\r\n         *\r\n         * @returns {number} the weight\r\n         */\r\n        get: function () {\r\n            return this._weight;\r\n        },\r\n        /**\r\n         *\r\n         * @param {number} newVal the weight\r\n         */\r\n        set: function (newVal) {\r\n            this._weight = Number(newVal.toFixed(1));\r\n            this.labelVal.html(this._weight.toFixed(1) + '%');\r\n            if (this._weight <= this._min) {\r\n                this.atMin = true;\r\n                this.atMax = false;\r\n            }\r\n            else if (this._weight >= this._max) {\r\n                this.atMin = false;\r\n                this.atMax = true;\r\n            }\r\n            else {\r\n                this.atMin = false;\r\n                this.atMax = false;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return _Slider;\r\n}());\r\nnm._Slider = _Slider;\r\n/**\r\n * class to keep track of the sliders\r\n */\r\nvar TipSliders = (function () {\r\n    /**\r\n     *\r\n     * @param sliderConfigs\r\n     * @param presetConfig\r\n     * @param divId\r\n     * @param presetSelector\r\n     * @param regionSelector\r\n     * @param versionSelector\r\n     * @param chgCallback\r\n     */\r\n    function TipSliders(sliderConfigs, presetConfig, divId, presetSelector, regionSelector, versionSelector, chgCallback) {\r\n        var _this = this;\r\n        this.resetting = false;\r\n        this.reservedPercent = 0.0;\r\n        this.$container = $('#' + divId);\r\n        this.$container.addClass('slider-container');\r\n        this._changedCallback = typeof chgCallback == 'function' ? chgCallback : function () { };\r\n        this._$presetSelector = presetSelector;\r\n        this._$regionSelector = regionSelector;\r\n        this._$versionSelector = versionSelector;\r\n        this._sliderList = [];\r\n        this._sliderLookup = {};\r\n        for (var i = 0; i < sliderConfigs.length; i++) {\r\n            var sld = new _Slider(sliderConfigs[i]);\r\n            this._sliderList.push(sld);\r\n            this._sliderLookup[sld.domId] = sld;\r\n            sld.addToDom(this.$container);\r\n        }\r\n        this._presetArray = [];\r\n        this._presetLookup = {};\r\n        for (var i = 0; i < presetConfig.length; i++) {\r\n            var preset = new TipPresets(presetConfig[i]);\r\n            var idx = (i + 1).toFixed();\r\n            this._presetLookup[idx] = preset;\r\n            this._presetArray.push(preset);\r\n            this._$presetSelector.append(\"<option value=\\\"\" + idx + \"\\\">\" + preset.label + \"</option>\");\r\n        }\r\n        this._lockedList = [];\r\n        this._inRangeList = [];\r\n        this._atMinList = [];\r\n        this._atMaxList = [];\r\n        this.lockedCount = 10;\r\n        this.notLockedCount = 0;\r\n        this._splitSliderArray();\r\n        this._$presetSelector.change(function () {\r\n            _this.setPresetValues();\r\n            _this._runChangedCallback();\r\n        });\r\n        this._$regionSelector.change(function () {\r\n            _this._runChangedCallback();\r\n        });\r\n        this._$versionSelector.change(function () {\r\n            _this._runChangedCallback();\r\n        });\r\n        this._$presetSelector.trigger('change');\r\n        this._addEventListeners();\r\n    }\r\n    TipSliders.prototype._runChangedCallback = function () {\r\n        this._changedCallback(this.paramWeightsRegionVersion);\r\n    };\r\n    Object.defineProperty(TipSliders.prototype, \"changedCallback\", {\r\n        get: function () {\r\n            return this._changedCallback;\r\n        },\r\n        set: function (chg) {\r\n            this._changedCallback = chg;\r\n            this._runChangedCallback();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TipSliders.prototype.setPresetValues = function () {\r\n        var idx = this._$presetSelector.val() || '1';\r\n        var thePreset = this._presetLookup[idx];\r\n        for (var i = 0; i < thePreset.presets.length; i++) {\r\n            var presetValues = thePreset.presets[i];\r\n            var theSlider = this._sliderList[i];\r\n            theSlider.locked = true;\r\n            theSlider.setValAndDropDown(presetValues.value, presetValues.column);\r\n        }\r\n    };\r\n    /**\r\n     * split array into subarrays holding the sliders\r\n     * @private\r\n     */\r\n    TipSliders.prototype._splitSliderArray = function () {\r\n        this._lockedList = [];\r\n        this._inRangeList = [];\r\n        this._atMinList = [];\r\n        this._atMaxList = [];\r\n        for (var i = 0; i < this._sliderList.length; i++) {\r\n            var sld = this._sliderList[i];\r\n            if (sld.locked) {\r\n                this._lockedList.push(sld);\r\n            }\r\n            else if (sld.atMin) {\r\n                this._atMinList.push(sld);\r\n            }\r\n            else if (sld.atMax) {\r\n                this._atMaxList.push(sld);\r\n            }\r\n            else {\r\n                this._inRangeList.push(sld);\r\n            }\r\n        }\r\n        this.lockedCount = this._lockedList.length;\r\n        this.notLockedCount = this._sliderList.length - this.lockedCount;\r\n    };\r\n    /**\r\n     * handle remainder, recursive to take care of min max overshoots\r\n     * @param {number} remain the remainder\r\n     * @param {string} skipDomId - this dom id\r\n     * @private\r\n     */\r\n    TipSliders.prototype._handleRemainder = function (remain, skipDomId) {\r\n        remain = Number(remain.toFixed(1));\r\n        if (remain == 0) {\r\n            return;\r\n        }\r\n        this._splitSliderArray();\r\n        var canChangeArray = [];\r\n        for (var i = 0; i < this._inRangeList.length; i++) {\r\n            var sld = this._inRangeList[i];\r\n            if (sld.domId == skipDomId) {\r\n                continue;\r\n            }\r\n            canChangeArray.push(sld);\r\n        }\r\n        if (remain > 0) {\r\n            for (var i = 0; i < this._atMaxList.length; i++) {\r\n                var sld = this._atMaxList[i];\r\n                if (sld.domId == skipDomId) {\r\n                    continue;\r\n                }\r\n                canChangeArray.push(sld);\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0; i < this._atMinList.length; i++) {\r\n                var sld = this._atMinList[i];\r\n                if (sld.domId == skipDomId) {\r\n                    continue;\r\n                }\r\n                canChangeArray.push(sld);\r\n            }\r\n        }\r\n        if (canChangeArray.length == 0) {\r\n            return;\r\n        }\r\n        var inc = -1 * Number((remain / canChangeArray.length).toFixed(1));\r\n        var newRemainder = 0;\r\n        for (var i = 0; i < canChangeArray.length; i++) {\r\n            newRemainder += canChangeArray[i].increment(inc);\r\n        }\r\n        this._handleRemainder(newRemainder, skipDomId);\r\n    };\r\n    /**\r\n     *\r\n     * @param {object} keyValList key and value list\r\n     */\r\n    TipSliders.prototype.setValues = function (keyValList) {\r\n        this.resetting = true;\r\n        for (var k in keyValList) {\r\n            if (keyValList.hasOwnProperty(k)) {\r\n                this._sliderLookup[k].setValAndDropDown(keyValList[k][0], keyValList[k][1]);\r\n            }\r\n        }\r\n        this.resetting = false;\r\n    };\r\n    /**\r\n     * get the weight sum\r\n     * @returns {number} the weight sum\r\n     */\r\n    TipSliders.prototype.getSum = function () {\r\n        var total = 0;\r\n        for (var i = 0; i < this._sliderList.length; i++) {\r\n            var sld = this._sliderList[i];\r\n            total += Number(sld.weight.toFixed(1));\r\n        }\r\n        return total;\r\n    };\r\n    /**\r\n     * get the parameter weights\r\n     * @returns {object} lookup with parameter weights\r\n     */\r\n    TipSliders.prototype.getParams = function () {\r\n        var paramWeights = {};\r\n        for (var i = 0; i < this._sliderList.length; i++) {\r\n            var sld = this._sliderList[i];\r\n            paramWeights[sld.selectedParam] = Number(sld.weight.toFixed(1));\r\n        }\r\n        return paramWeights;\r\n    };\r\n    TipSliders.prototype._addEventListeners = function () {\r\n        var ___this = this;\r\n        //change function\r\n        this.$container.find('input[type=\"range\"]').change(function () {\r\n            if (___this.resetting) {\r\n                return;\r\n            }\r\n            var $this = $(this);\r\n            var domId = this['id'];\r\n            var sldr = ___this._sliderLookup[domId];\r\n            var newValue = parseFloat($this.val());\r\n            var oldValue = sldr.weight;\r\n            var diff = newValue - oldValue;\r\n            diff = Number(diff.toFixed(1));\r\n            sldr.weight = Number(newValue.toFixed(1));\r\n            ___this._handleRemainder(diff, domId);\r\n            //cleanup, make sure the sum is still 100\r\n            var sum = Number(___this.getSum().toFixed(1));\r\n            if (sum > 100) {\r\n                loop1: while (true) {\r\n                    for (var i = 0; i < ___this._sliderList.length; i++) {\r\n                        var sld = ___this._sliderList[i];\r\n                        if (sld.domId == domId || sld.locked || sld.atMin) {\r\n                            continue;\r\n                        }\r\n                        sld.increment(-0.1);\r\n                        sum -= 0.1;\r\n                        if (sum.toFixed(1) == '100.0') {\r\n                            break loop1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (sum < 100) {\r\n                loop1: while (true) {\r\n                    for (var i = 0; i < ___this._sliderList.length; i++) {\r\n                        var sld = ___this._sliderList[i];\r\n                        if (sld.domId == domId || sld.locked || sld.atMax) {\r\n                            continue;\r\n                        }\r\n                        sld.increment(0.1);\r\n                        sum += 0.1;\r\n                        if (sum.toFixed(1) == '100.0') {\r\n                            break loop1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            ___this._$presetSelector.val('0');\r\n            ___this._runChangedCallback();\r\n        });\r\n        //update the selected parameter when the selection is changed\r\n        $('.show-select').change(function () {\r\n            if (___this.resetting) {\r\n                return;\r\n            }\r\n            ___this._sliderLookup[this['id'].replace('_chg', '')].selectedParam = $(this).val();\r\n            ___this._$presetSelector.val('0');\r\n            ___this._runChangedCallback();\r\n        });\r\n        //lock the slider and update the reserved percent\r\n        this.$container.find('input[type=\"checkbox\"]').change(function () {\r\n            var domEl = this;\r\n            ___this._sliderLookup[domEl.id.replace('_chk', '')].locked = !domEl.checked;\r\n            ___this.reservedPercent = 0.0;\r\n            ___this.notLockedCount = 0;\r\n            var notLockedSliders = [];\r\n            for (var i = 0; i < ___this._sliderList.length; i++) {\r\n                var sld = ___this._sliderList[i];\r\n                if (sld.locked) {\r\n                    ___this.reservedPercent += sld.weight;\r\n                    continue;\r\n                }\r\n                notLockedSliders.push(sld);\r\n                ___this.notLockedCount++;\r\n            }\r\n            for (var i = 0; i < ___this._sliderList.length; i++) {\r\n                var sld = ___this._sliderList[i];\r\n                if (sld.locked) {\r\n                    continue;\r\n                }\r\n                sld.max = 100 - ___this.reservedPercent;\r\n            }\r\n            if (notLockedSliders.length == 1) {\r\n                notLockedSliders[0].min = notLockedSliders[0].weight;\r\n            }\r\n            else {\r\n                for (var i = 0; i < notLockedSliders.length; i++) {\r\n                    notLockedSliders[i].min = 0;\r\n                }\r\n            }\r\n        });\r\n    };\r\n    Object.defineProperty(TipSliders.prototype, \"paramWeightsRegionVersion\", {\r\n        get: function () {\r\n            return { paramWeights: this.getParams(),\r\n                region: this._$regionSelector.val(), mmVersion: this._$versionSelector.val() };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return TipSliders;\r\n}());\r\nexports.TipSliders = TipSliders;\r\nnm.Sliders = TipSliders;\r\nexports.default = TipSliders;\r\n\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by gavorhes on 6/22/2016.\r\n */\r\nvar Sliders_1 = __webpack_require__(56);\r\nvar $ = __webpack_require__(1);\r\n__webpack_require__(1);\r\nexports.tipConfig = {\r\n    $loadingGif: $('#loading-gif'),\r\n    $presetSelector: $('#preset-selector'),\r\n    $regionSelector: $('#region-selector'),\r\n    $versionSelector: $('#version-selector'),\r\n    tipSegmentLayerMinZoom: 10,\r\n    slidersConfig: [\r\n        {\r\n            label: 'AADT',\r\n            yearOptions: [\r\n                { label: '1', column: 'aadtyr_1' }\r\n            ]\r\n        },\r\n        {\r\n            label: 'AADT Future',\r\n            yearOptions: [\r\n                { label: '5', column: 'aadtyr_5' },\r\n                { label: '10', column: 'aadtyr_10' },\r\n                { label: '15', column: 'aadtyr_15' },\r\n                { label: '20', column: 'aadtyr_20' }\r\n            ]\r\n        },\r\n        {\r\n            label: 'Growth',\r\n            yearOptions: [\r\n                { label: '5', column: 'growth_5' },\r\n                { label: '10', column: 'growth_10' },\r\n                { label: '15', column: 'growth_15' },\r\n                { label: '20', column: 'growth_20' }\r\n            ]\r\n        },\r\n        {\r\n            label: 'Truck',\r\n            yearOptions: [\r\n                { label: '1', column: 'trkdyr_1' },\r\n                { label: '20', column: 'trkdyr_20' }\r\n            ]\r\n        },\r\n        {\r\n            label: 'LOS',\r\n            yearOptions: [\r\n                { label: '1', column: 'losyr_1' }\r\n            ]\r\n        },\r\n        {\r\n            label: 'LOS Future',\r\n            yearOptions: [\r\n                { label: '5', column: 'losyr_5' },\r\n                { label: '10', column: 'losyr_10' },\r\n                { label: '15', column: 'losyr_15' },\r\n                { label: '20', column: 'losyr_20' }\r\n            ]\r\n        },\r\n        {\r\n            label: 'Crash Rate',\r\n            yearOptions: [\r\n                { label: 1, column: 'crash_rate' }\r\n            ]\r\n        },\r\n        {\r\n            label: 'Severity',\r\n            yearOptions: [\r\n                { label: 1, column: 'crash_severity' }\r\n            ]\r\n        },\r\n        {\r\n            label: 'Weather',\r\n            yearOptions: [\r\n                { label: 1, column: 'weather' }\r\n            ]\r\n        },\r\n        {\r\n            label: 'Event',\r\n            yearOptions: [\r\n                { label: 1, column: 'event' }\r\n            ]\r\n        }\r\n    ],\r\n    presetConfig: [\r\n        {\r\n            label: 'Default TIP',\r\n            presets: [\r\n                { column: 'aadtyr_1', value: 10.0 },\r\n                { column: 'aadtyr_20', value: 7.0 },\r\n                { column: 'growth_20', value: 7.0 },\r\n                { column: 'trkdyr_1', value: 4.0 },\r\n                { column: 'losyr_1', value: 12.0 },\r\n                { column: 'losyr_20', value: 12.0 },\r\n                { column: 'crash_rate', value: 15.0 },\r\n                { column: 'crash_severity', value: 13.0 },\r\n                { column: 'weather', value: 9.0 },\r\n                { column: 'event', value: 11.0 }\r\n            ]\r\n        },\r\n        {\r\n            label: 'Safety',\r\n            presets: [\r\n                { column: 'aadtyr_1', value: 20.0 },\r\n                { column: 'aadtyr_20', value: 0.0 },\r\n                { column: 'growth_20', value: 0.0 },\r\n                { column: 'trkdyr_1', value: 0.0 },\r\n                { column: 'losyr_1', value: 0.0 },\r\n                { column: 'losyr_20', value: 0.0 },\r\n                { column: 'crash_rate', value: 40.0 },\r\n                { column: 'crash_severity', value: 40.0 },\r\n                { column: 'weather', value: 0.0 },\r\n                { column: 'event', value: 0.0 }\r\n            ]\r\n        },\r\n        {\r\n            label: 'Mobility Present',\r\n            presets: [\r\n                { column: 'aadtyr_1', value: 25.0 },\r\n                { column: 'aadtyr_20', value: 25.0 },\r\n                { column: 'growth_20', value: 0.0 },\r\n                { column: 'trkdyr_1', value: 25.0 },\r\n                { column: 'losyr_1', value: 25.0 },\r\n                { column: 'losyr_20', value: 0.0 },\r\n                { column: 'crash_rate', value: 0.0 },\r\n                { column: 'crash_severity', value: 0.0 },\r\n                { column: 'weather', value: 0.0 },\r\n                { column: 'event', value: 0.0 }\r\n            ]\r\n        },\r\n        {\r\n            label: 'Mobility Future',\r\n            presets: [\r\n                { column: 'aadtyr_1', value: 0.0 },\r\n                { column: 'aadtyr_20', value: 25.0 },\r\n                { column: 'growth_20', value: 25.0 },\r\n                { column: 'trkdyr_1', value: 25.0 },\r\n                { column: 'losyr_1', value: 0.0 },\r\n                { column: 'losyr_20', value: 25.0 },\r\n                { column: 'crash_rate', value: 0.0 },\r\n                { column: 'crash_severity', value: 0.0 },\r\n                { column: 'weather', value: 0.0 },\r\n                { column: 'event', value: 0.0 }\r\n            ]\r\n        },\r\n        {\r\n            label: 'Service',\r\n            presets: [\r\n                { column: 'aadtyr_1', value: 30.0 },\r\n                { column: 'aadtyr_20', value: 0.0 },\r\n                { column: 'growth_20', value: 10.0 },\r\n                { column: 'trkdyr_1', value: 0.0 },\r\n                { column: 'losyr_1', value: 30.0 },\r\n                { column: 'losyr_20', value: 30.0 },\r\n                { column: 'crash_rate', value: 0.0 },\r\n                { column: 'crash_severity', value: 0.0 },\r\n                { column: 'weather', value: 0.0 },\r\n                { column: 'event', value: 0.0 }\r\n            ]\r\n        },\r\n        {\r\n            label: 'Freight Performance',\r\n            presets: [\r\n                { column: 'aadtyr_1', value: 20.0 },\r\n                { column: 'aadtyr_20', value: 0.0 },\r\n                { column: 'growth_20', value: 0.0 },\r\n                { column: 'trkdyr_1', value: 60.0 },\r\n                { column: 'losyr_1', value: 20.0 },\r\n                { column: 'losyr_20', value: 0.0 },\r\n                { column: 'crash_rate', value: 0.0 },\r\n                { column: 'crash_severity', value: 0.0 },\r\n                { column: 'weather', value: 0.0 },\r\n                { column: 'event', value: 0.0 }\r\n            ]\r\n        }\r\n    ]\r\n};\r\nexports.tipConfig.$presetSelector.append('<option value=\"0\" disabled=>Custom</option>');\r\nvar sliders = new Sliders_1.TipSliders(exports.tipConfig.slidersConfig, exports.tipConfig.presetConfig, 'slider-container', exports.tipConfig.$presetSelector, exports.tipConfig.$regionSelector, exports.tipConfig.$regionSelector, function (chg) { console.log(chg); });\r\n// sliders.changedCallback = (chg) => {console.log(chg)};\r\nwindow['glob'] = sliders;\r\nwindow['hat'] = sliders;\r\nwindow['bird'] = sliders;\r\n\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// slider-test.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 78);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b0ebb0fd1b4953354d93","/**\r\n * Created by gavorhes on 12/10/2015.\r\n */\r\n\r\ndeclare const window: Window;\r\n/**\r\n * create a namespace on the gv object\r\n * @param {string} namespace to create\r\n * @returns {object} object representing the namespace\r\n */\r\nfunction provide(namespace: string){\r\n    \"use strict\";\r\n    if (typeof (<any>window).gv == 'undefined'){\r\n        (<any>window).gv = {};\r\n    }\r\n\r\n    let parts = namespace.split('.');\r\n    let nameSpace = (<any>window).gv;\r\n\r\n    for (let i=0; i< parts.length; i++){\r\n        let newObject = nameSpace[parts[i]];\r\n\r\n        if (typeof newObject == 'undefined'){\r\n            nameSpace[parts[i]] = {};\r\n        }\r\n\r\n        nameSpace = nameSpace[parts[i]];\r\n    }\r\n\r\n    return nameSpace;\r\n}\r\n\r\nprovide('util');\r\n(<any>window).gv.util.provide = provide;\r\n\r\nexport default provide;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/provide.ts","module.exports = $;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"$\"\n// module id = 1\n// module chunks = 0 1 2 4 5 6 7 8 9 10 11","/**\r\n * Created by gavorhes on 12/10/2015.\r\n */\r\n\r\nimport provide from '../util/provide';\r\nimport $ = require('jquery');\r\n\r\nlet nm = provide('collections');\r\n\r\nexport interface TipSliderConfig {\r\n    label: string;\r\n    yearOptions: Array<{column: string, label: string}>\r\n}\r\n\r\nexport interface TipPresetConfig {\r\n    label: string;\r\n    presets: Array<{column: string, value: number}>\r\n}\r\n\r\nexport interface ChangeResponse{\r\n    paramWeights: Object;\r\n    region: string;\r\n    mmVersion: string;\r\n}\r\n\r\nexport interface ChangeCallback{\r\n    (chg: ChangeResponse): any\r\n}\r\n\r\n\r\nclass TipPresets implements TipPresetConfig {\r\n    label: string;\r\n    presets: Array<{column: string, value: number}>;\r\n    domId: string;\r\n\r\n    constructor(conf: TipPresetConfig) {\r\n        this.label = conf.label;\r\n        this.presets = conf.presets;\r\n        this.domId = this.label.replace(/ /g, '').toLowerCase();\r\n\r\n        let theSum = 0;\r\n\r\n        for (let pr of this.presets){\r\n            theSum += pr.value;\r\n        }\r\n\r\n        if (theSum != 100){\r\n            throw 'preset sum does note equal 100';\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass _Slider {\r\n    _min: number;\r\n    _max: number;\r\n    _locked: boolean;\r\n    atMin: boolean;\r\n    atMax: boolean;\r\n    _weightDefault: number;\r\n    _weight: number;\r\n    html: string;\r\n    domId: string;\r\n    name: string;\r\n\r\n    labelLow: JQuery;\r\n    labelHigh: JQuery;\r\n    labelVal: JQuery;\r\n    slider: JQuery;\r\n    selectionBox: JQuery;\r\n    chk: JQuery;\r\n\r\n    selectedParam: any;\r\n    selectedParamDefault: any;\r\n    _dropdownSelection: string;\r\n\r\n    /**\r\n     * Slider constructor\r\n     * @param sliderConfig - the configuration\r\n\r\n     */\r\n    constructor(sliderConfig: TipSliderConfig) {\r\n        this._dropdownSelection = null;\r\n        this._weight = null;\r\n        this.name = sliderConfig.label;\r\n        this.domId = this.name.toLowerCase().replace(/ /g, '-');\r\n\r\n        this._locked = false;\r\n\r\n        this._min = 0.0;\r\n        this._max = 100;\r\n\r\n        this.labelLow = null;\r\n        this.labelHigh = null;\r\n        this.labelVal = null;\r\n        this.slider = null;\r\n        this.chk = null;\r\n\r\n        this.atMin = false;\r\n        this.atMax = false;\r\n\r\n\r\n        let sel = `<select class=\"${sliderConfig.yearOptions.length == 1 ? 'hidden-select' : 'show-select'}\" id=\"${this.domId}_chg\">`;\r\n\r\n        for (let i = 0; i < sliderConfig.yearOptions.length; i++) {\r\n            let itm = sliderConfig.yearOptions[i];\r\n            sel += `<option value=\"${itm.column}\">${itm.label}</option>`;\r\n        }\r\n        sel += '</select>';\r\n\r\n        this.selectedParamDefault = this.selectedParam;\r\n\r\n        this.html = '<div class=\"slider-div\">' +\r\n            `<label for=\"${this.domId}_chk\" class=\"slider-label\">${this.name}</label>` +\r\n            sel + `<br>` +\r\n            `<input id=\"${this.domId}_chk\" type=\"checkbox\" title=\"Lock/Unlock Slider\">` +\r\n            `<label id=\"${this.domId}_low\" class=\"low-high\"></label>` +\r\n            `<input id=\"${this.domId}\" type=\"range\" value=\"50\" min=\"0\" max=\"100\" step=\"0.1\">` +\r\n            `<label id=\"${this.domId}_high\" class=\"low-high\"></label>` +\r\n            `<label id=\"${this.domId}_lbl\" for=\"${this.domId}\" class=\"percent-label\"></label></div>`;\r\n    }\r\n\r\n    /**\r\n     * add html to dom\r\n     * @param {jQuery} $container - container element\r\n     */\r\n    addToDom($container: JQuery) {\r\n        $container.append(this.html);\r\n        this.labelLow = $(`#${this.domId}_low`);\r\n        this.labelHigh = $(`#${this.domId}_high`);\r\n        this.labelVal = $(`#${this.domId}_lbl`);\r\n        this.slider = $(`#${this.domId}`);\r\n        this.selectionBox = $(`#${this.domId}_chg`);\r\n        this.chk = $(`#${this.domId}_chk`);\r\n    }\r\n\r\n    /**\r\n     * increment the slider\r\n     * @param {number} delta change delta\r\n     * @returns {number} the remainder not able to be allocated to this slider\r\n     */\r\n    increment(delta: number): number {\r\n        let remainder = 0;\r\n        delta = Number(delta.toFixed(1));\r\n\r\n        this._weight += delta;\r\n        if (this._weight < this._min) {\r\n            remainder = this._min - this._weight;\r\n            this._weight = this._min;\r\n            this.atMin = true;\r\n        } else if (this._weight > this._max) {\r\n            remainder = this._max - this._weight;\r\n            this._weight = this._max;\r\n            this.atMax = true;\r\n        } else {\r\n            this.atMin = false;\r\n            this.atMax = false;\r\n        }\r\n\r\n        this.slider.val(this._weight.toFixed(1));\r\n        this.labelVal.html(this._weight.toFixed(1) + '%');\r\n\r\n        return remainder;\r\n    }\r\n\r\n    /**\r\n     * set the value and drop down\r\n     * @param {number} newVal the new value\r\n     * @param {string} selectedParam the selected parameter\r\n     */\r\n    setValAndDropDown(newVal: number, selectedParam: string) {\r\n        this.min = 0;\r\n        this.max = 100;\r\n        this.weight = newVal;\r\n        this.slider.val(newVal.toFixed(1));\r\n        this.selectionBox.val(selectedParam);\r\n        this.selectedParam = selectedParam;\r\n        this.locked = true;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {boolean} if locked\r\n     */\r\n    get locked() {\r\n        return this._locked;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {boolean} val if locked\r\n     */\r\n    set locked(val) {\r\n        this._locked = val;\r\n        this.slider.prop('disabled', this._locked);\r\n        this.selectionBox.prop('disabled', this._locked);\r\n        this.chk.prop('checked', !this._locked);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {number} the minimum\r\n     */\r\n    get min() {\r\n        return this._min;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {number} newVal new minimum\r\n     */\r\n    set min(newVal) {\r\n        this._min = Number(newVal.toFixed(1));\r\n        if (this._min < 0) {\r\n            this._min = 0;\r\n        }\r\n        this.labelLow.html(this._min.toFixed(1));\r\n        this.slider.attr('min', this._min.toFixed(1));\r\n        this.atMin = this._weight == this._min;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {number} the maximum\r\n     */\r\n    get max() {\r\n        return this._max;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {number} newVal the maximum\r\n     */\r\n    set max(newVal) {\r\n        this._max = Number(newVal.toFixed(1));\r\n        if (this._max > 100) {\r\n            this._max = 100.0;\r\n        }\r\n        this.labelHigh.html(this._max.toFixed(1));\r\n        this.slider.attr('max', this._max.toFixed(1));\r\n        this.atMax = this._weight == this._max;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {number} the weight\r\n     */\r\n    get weight() {\r\n        return this._weight;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {number} newVal the weight\r\n     */\r\n    set weight(newVal) {\r\n        this._weight = Number(newVal.toFixed(1));\r\n        this.labelVal.html(this._weight.toFixed(1) + '%');\r\n        if (this._weight <= this._min) {\r\n            this.atMin = true;\r\n            this.atMax = false;\r\n        } else if (this._weight >= this._max) {\r\n            this.atMin = false;\r\n            this.atMax = true;\r\n        } else {\r\n            this.atMin = false;\r\n            this.atMax = false;\r\n        }\r\n    }\r\n}\r\n\r\nnm._Slider = _Slider;\r\n\r\n\r\n/**\r\n * class to keep track of the sliders\r\n */\r\nexport class TipSliders {\r\n    $container: JQuery;\r\n    reservedPercent: number;\r\n    lockedCount: number;\r\n    notLockedCount: number;\r\n    private _sliderList: Array<_Slider>;\r\n    private _sliderLookup: {[s: string]: _Slider};\r\n    private resetting: boolean;\r\n    private _changedCallback: ChangeCallback;\r\n\r\n    private _lockedList: Array<_Slider>;\r\n    private _inRangeList: Array<_Slider>;\r\n    private _atMinList: Array<_Slider>;\r\n    private _atMaxList: Array<_Slider>;\r\n\r\n    private _presetArray: Array<TipPresets>;\r\n    private _presetLookup: {[s: string]: TipPresets};\r\n\r\n    private _$presetSelector: JQuery;\r\n    private _$regionSelector: JQuery;\r\n    private _$versionSelector: JQuery;\r\n\r\n    /**\r\n     *\r\n     * @param sliderConfigs\r\n     * @param presetConfig\r\n     * @param divId\r\n     * @param presetSelector\r\n     * @param regionSelector\r\n     * @param versionSelector\r\n     * @param chgCallback\r\n     */\r\n    constructor(sliderConfigs: Array<TipSliderConfig>, presetConfig: Array<TipPresetConfig>,\r\n                divId: string, presetSelector: JQuery, regionSelector: JQuery, versionSelector: JQuery,\r\n                chgCallback?: ChangeCallback) {\r\n\r\n        this.resetting = false;\r\n        this.reservedPercent = 0.0;\r\n        this.$container = $('#' + divId);\r\n        this.$container.addClass('slider-container');\r\n\r\n        this._changedCallback = typeof chgCallback == 'function' ? chgCallback : () => {};\r\n\r\n        this._$presetSelector = presetSelector;\r\n        this._$regionSelector = regionSelector;\r\n        this._$versionSelector = versionSelector;\r\n\r\n        this._sliderList = [];\r\n        this._sliderLookup = {};\r\n\r\n        for (let i = 0; i < sliderConfigs.length; i++) {\r\n            let sld = new _Slider(sliderConfigs[i]);\r\n            this._sliderList.push(sld);\r\n            this._sliderLookup[sld.domId] = sld;\r\n            sld.addToDom(this.$container);\r\n        }\r\n\r\n        this._presetArray = [];\r\n        this._presetLookup = {};\r\n\r\n        for (let i = 0; i < presetConfig.length; i++) {\r\n            let preset = new TipPresets(presetConfig[i]);\r\n\r\n            let idx = (i + 1).toFixed();\r\n\r\n            this._presetLookup[idx] = preset;\r\n            this._presetArray.push(preset);\r\n            this._$presetSelector.append(`<option value=\"${idx}\">${preset.label}</option>`);\r\n        }\r\n\r\n\r\n        this._lockedList = [];\r\n        this._inRangeList = [];\r\n        this._atMinList = [];\r\n        this._atMaxList = [];\r\n\r\n        this.lockedCount = 10;\r\n        this.notLockedCount = 0;\r\n\r\n        this._splitSliderArray();\r\n\r\n\r\n        this._$presetSelector.change(() => {\r\n            this.setPresetValues();\r\n            this._runChangedCallback();\r\n        });\r\n\r\n        this._$regionSelector.change(() => {\r\n            this._runChangedCallback();\r\n        });\r\n\r\n        this._$versionSelector.change(() => {\r\n            this._runChangedCallback();\r\n        });\r\n\r\n        this._$presetSelector.trigger('change');\r\n\r\n        this._addEventListeners();\r\n    }\r\n\r\n    _runChangedCallback(){\r\n        this._changedCallback(this.paramWeightsRegionVersion);\r\n    }\r\n\r\n    get changedCallback(): ChangeCallback{\r\n        return this._changedCallback\r\n    }\r\n\r\n    set changedCallback(chg: ChangeCallback){\r\n        this._changedCallback = chg;\r\n        this._runChangedCallback();\r\n    }\r\n\r\n    setPresetValues() {\r\n        let idx = this._$presetSelector.val() || '1';\r\n\r\n        let thePreset = this._presetLookup[idx];\r\n\r\n        for (let i = 0; i < thePreset.presets.length; i++) {\r\n            let presetValues = thePreset.presets[i];\r\n            let theSlider = this._sliderList[i];\r\n\r\n            theSlider.locked = true;\r\n            theSlider.setValAndDropDown(presetValues.value, presetValues.column);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * split array into subarrays holding the sliders\r\n     * @private\r\n     */\r\n    _splitSliderArray() {\r\n        this._lockedList = [];\r\n        this._inRangeList = [];\r\n        this._atMinList = [];\r\n        this._atMaxList = [];\r\n\r\n        for (let i = 0; i < this._sliderList.length; i++) {\r\n            let sld = this._sliderList[i];\r\n\r\n            if (sld.locked) {\r\n                this._lockedList.push(sld);\r\n            } else if (sld.atMin) {\r\n                this._atMinList.push(sld);\r\n            } else if (sld.atMax) {\r\n                this._atMaxList.push(sld);\r\n            } else {\r\n                this._inRangeList.push(sld);\r\n            }\r\n        }\r\n        this.lockedCount = this._lockedList.length;\r\n        this.notLockedCount = this._sliderList.length - this.lockedCount;\r\n    }\r\n\r\n    /**\r\n     * handle remainder, recursive to take care of min max overshoots\r\n     * @param {number} remain the remainder\r\n     * @param {string} skipDomId - this dom id\r\n     * @private\r\n     */\r\n    _handleRemainder(remain: number, skipDomId: string) {\r\n\r\n        remain = Number(remain.toFixed(1));\r\n        if (remain == 0) {\r\n            return;\r\n        }\r\n\r\n        this._splitSliderArray();\r\n\r\n        let canChangeArray = [];\r\n        for (let i = 0; i < this._inRangeList.length; i++) {\r\n            let sld = this._inRangeList[i];\r\n            if (sld.domId == skipDomId) {\r\n                continue;\r\n            }\r\n            canChangeArray.push(sld);\r\n        }\r\n\r\n        if (remain > 0) {\r\n            for (let i = 0; i < this._atMaxList.length; i++) {\r\n                let sld = this._atMaxList[i];\r\n                if (sld.domId == skipDomId) {\r\n                    continue;\r\n                }\r\n                canChangeArray.push(sld);\r\n            }\r\n        } else {\r\n            for (let i = 0; i < this._atMinList.length; i++) {\r\n                let sld = this._atMinList[i];\r\n                if (sld.domId == skipDomId) {\r\n                    continue;\r\n                }\r\n                canChangeArray.push(sld);\r\n            }\r\n        }\r\n\r\n        if (canChangeArray.length == 0) {\r\n            return;\r\n        }\r\n\r\n        let inc = -1 * Number((remain / canChangeArray.length).toFixed(1));\r\n\r\n        let newRemainder = 0;\r\n        for (let i = 0; i < canChangeArray.length; i++) {\r\n            newRemainder += canChangeArray[i].increment(inc);\r\n        }\r\n\r\n        this._handleRemainder(newRemainder, skipDomId);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {object} keyValList key and value list\r\n     */\r\n    setValues(keyValList: {[s:string]: [number, string]}) {\r\n        this.resetting = true;\r\n        for (let k in keyValList) {\r\n            if (keyValList.hasOwnProperty(k)) {\r\n                this._sliderLookup[k].setValAndDropDown(keyValList[k][0], keyValList[k][1]);\r\n            }\r\n        }\r\n        this.resetting = false;\r\n    }\r\n\r\n    /**\r\n     * get the weight sum\r\n     * @returns {number} the weight sum\r\n     */\r\n    getSum() {\r\n        let total = 0;\r\n        for (let i = 0; i < this._sliderList.length; i++) {\r\n            let sld = this._sliderList[i];\r\n            total += Number(sld.weight.toFixed(1));\r\n        }\r\n\r\n        return total;\r\n    }\r\n\r\n    /**\r\n     * get the parameter weights\r\n     * @returns {object} lookup with parameter weights\r\n     */\r\n    getParams() {\r\n        let paramWeights: {[s: string]: number} = {};\r\n        for (let i = 0; i < this._sliderList.length; i++) {\r\n            let sld = this._sliderList[i];\r\n            paramWeights[sld.selectedParam] = Number(sld.weight.toFixed(1));\r\n        }\r\n\r\n        return paramWeights;\r\n    }\r\n\r\n    _addEventListeners() {\r\n        let ___this = this;\r\n\r\n\r\n        //change function\r\n        this.$container.find('input[type=\"range\"]').change(function () {\r\n                if (___this.resetting) {\r\n                    return;\r\n                }\r\n\r\n                let $this = $(this);\r\n                let domId = this['id'];\r\n                let sldr = ___this._sliderLookup[domId];\r\n\r\n                let newValue = parseFloat($this.val());\r\n\r\n                let oldValue = sldr.weight;\r\n                let diff = newValue - oldValue;\r\n                diff = Number(diff.toFixed(1));\r\n\r\n                sldr.weight = Number(newValue.toFixed(1));\r\n\r\n                ___this._handleRemainder(diff, domId);\r\n\r\n                //cleanup, make sure the sum is still 100\r\n                let sum = Number(___this.getSum().toFixed(1));\r\n\r\n                if (sum > 100) {\r\n                    loop1:\r\n                        while (true) {\r\n                            for (let i = 0; i < ___this._sliderList.length; i++) {\r\n                                let sld = ___this._sliderList[i];\r\n                                if (sld.domId == domId || sld.locked || sld.atMin) {\r\n                                    continue;\r\n                                }\r\n                                sld.increment(-0.1);\r\n                                sum -= 0.1;\r\n                                if (sum.toFixed(1) == '100.0') {\r\n                                    break loop1;\r\n                                }\r\n                            }\r\n                        }\r\n                } else if (sum < 100) {\r\n                    loop1:\r\n                        while (true) {\r\n                            for (let i = 0; i < ___this._sliderList.length; i++) {\r\n                                let sld = ___this._sliderList[i];\r\n                                if (sld.domId == domId || sld.locked || sld.atMax) {\r\n                                    continue;\r\n                                }\r\n                                sld.increment(0.1);\r\n                                sum += 0.1;\r\n                                if (sum.toFixed(1) == '100.0') {\r\n                                    break loop1;\r\n                                }\r\n                            }\r\n                        }\r\n                }\r\n\r\n                ___this._$presetSelector.val('0');\r\n                ___this._runChangedCallback();\r\n            }\r\n        );\r\n\r\n        //update the selected parameter when the selection is changed\r\n        $('.show-select').change(function () {\r\n            if (___this.resetting) {\r\n                return;\r\n            }\r\n            ___this._sliderLookup[this['id'].replace('_chg', '')].selectedParam = $(this).val();\r\n\r\n            ___this._$presetSelector.val('0');\r\n\r\n            ___this._runChangedCallback();\r\n\r\n        });\r\n\r\n        //lock the slider and update the reserved percent\r\n        this.$container.find('input[type=\"checkbox\"]').change(function () {\r\n            let domEl = this;\r\n\r\n            ___this._sliderLookup[domEl.id.replace('_chk', '')].locked = !domEl.checked;\r\n            ___this.reservedPercent = 0.0;\r\n            ___this.notLockedCount = 0;\r\n\r\n            let notLockedSliders = [];\r\n\r\n            for (let i = 0; i < ___this._sliderList.length; i++) {\r\n                let sld = ___this._sliderList[i];\r\n                if (sld.locked) {\r\n                    ___this.reservedPercent += sld.weight;\r\n                    continue;\r\n                }\r\n                notLockedSliders.push(sld);\r\n                ___this.notLockedCount++;\r\n            }\r\n\r\n            for (let i = 0; i < ___this._sliderList.length; i++) {\r\n                let sld = ___this._sliderList[i];\r\n                if (sld.locked) {\r\n                    continue;\r\n                }\r\n                sld.max = 100 - ___this.reservedPercent;\r\n            }\r\n\r\n            if (notLockedSliders.length == 1) {\r\n                notLockedSliders[0].min = notLockedSliders[0].weight;\r\n            } else {\r\n                for (let i = 0; i < notLockedSliders.length; i++) {\r\n                    notLockedSliders[i].min = 0;\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    get paramWeightsRegionVersion(): ChangeResponse{\r\n        return {paramWeights: this.getParams(),\r\n            region: this._$regionSelector.val() as string, mmVersion: this._$versionSelector.val() as string}\r\n    }\r\n}\r\n\r\nnm.Sliders = TipSliders;\r\nexport default TipSliders;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections/Sliders.ts","/**\r\n * Created by gavorhes on 6/22/2016.\r\n */\r\nimport {TipSliders, TipPresetConfig, TipSliderConfig} from '../../collections/Sliders';\r\nimport $ = require('jquery');\r\nimport ol = require('custom-ol');\r\nimport 'jquery-ui';\r\n\r\n\r\n\r\nexport interface ITipConfig{\r\n    slidersConfig: Array<TipSliderConfig>;\r\n    presetConfig: Array<TipPresetConfig>;\r\n    tipSegmentLayerMinZoom: number;\r\n    sliders: TipSliders;\r\n    _map: ol.Map;\r\n    $loadingGif: JQuery;\r\n    $presetSelector: JQuery;\r\n    $regionSelector: JQuery;\r\n    $versionSelector: JQuery;\r\n    itsLayerCollection: any;\r\n    tipSegmentLayer: any;\r\n    metamanagerSegments: any;\r\n}\r\n\r\nexport const tipConfig = {\r\n    $loadingGif: $('#loading-gif'),\r\n    $presetSelector: $('#preset-selector'),\r\n    $regionSelector: $('#region-selector'),\r\n    $versionSelector: $('#version-selector'),\r\n    tipSegmentLayerMinZoom: 10,\r\n    slidersConfig: [\r\n            {\r\n                label: 'AADT',\r\n                yearOptions: [\r\n                    {label: '1', column: 'aadtyr_1'}\r\n                ]\r\n            },\r\n            {\r\n                label: 'AADT Future',\r\n                yearOptions: [\r\n                    {label: '5', column: 'aadtyr_5'},\r\n                    {label: '10', column: 'aadtyr_10'},\r\n                    {label: '15', column: 'aadtyr_15'},\r\n                    {label: '20', column: 'aadtyr_20'}\r\n                ]\r\n            },\r\n            {\r\n                label: 'Growth',\r\n                yearOptions: [\r\n                    {label: '5', column: 'growth_5'},\r\n                    {label: '10', column: 'growth_10'},\r\n                    {label: '15', column: 'growth_15'},\r\n                    {label: '20', column: 'growth_20'}\r\n                ]\r\n            },\r\n            {\r\n                label: 'Truck',\r\n                yearOptions: [\r\n                    {label: '1', column: 'trkdyr_1'},\r\n                    {label: '20', column: 'trkdyr_20'}\r\n                ]\r\n            },\r\n            {\r\n                label: 'LOS',\r\n                yearOptions: [\r\n                    {label: '1', column: 'losyr_1'}\r\n                ]\r\n            },\r\n            {\r\n                label: 'LOS Future',\r\n                yearOptions: [\r\n                    {label: '5', column: 'losyr_5'},\r\n                    {label: '10', column: 'losyr_10'},\r\n                    {label: '15', column: 'losyr_15'},\r\n                    {label: '20', column: 'losyr_20'}\r\n                ]\r\n            },\r\n            {\r\n                label: 'Crash Rate',\r\n                yearOptions: [\r\n                    {label: 1, column: 'crash_rate'}\r\n                ]\r\n            },\r\n            {\r\n                label: 'Severity',\r\n                yearOptions: [\r\n                    {label: 1, column: 'crash_severity'}\r\n                ]\r\n            },\r\n            {\r\n                label: 'Weather',\r\n                yearOptions: [\r\n                    {label: 1, column: 'weather'}\r\n                ]\r\n            },\r\n            {\r\n                label: 'Event',\r\n                yearOptions: [\r\n                    {label: 1, column: 'event'}\r\n                ]\r\n            }\r\n        ] as Array<TipSliderConfig>,\r\n    presetConfig: [\r\n            {\r\n                label: 'Default TIP',\r\n                presets: [\r\n                    {column: 'aadtyr_1', value: 10.0},\r\n                    {column: 'aadtyr_20', value: 7.0},\r\n                    {column: 'growth_20', value: 7.0},\r\n                    {column: 'trkdyr_1', value: 4.0},\r\n                    {column: 'losyr_1', value: 12.0},\r\n                    {column: 'losyr_20', value: 12.0},\r\n                    {column: 'crash_rate', value: 15.0},\r\n                    {column: 'crash_severity', value: 13.0},\r\n                    {column: 'weather', value: 9.0},\r\n                    {column: 'event', value: 11.0}\r\n                ]\r\n            },\r\n            {\r\n                label: 'Safety',\r\n                presets: [\r\n                    {column: 'aadtyr_1', value: 20.0},\r\n                    {column: 'aadtyr_20', value: 0.0},\r\n                    {column: 'growth_20', value: 0.0},\r\n                    {column: 'trkdyr_1', value: 0.0},\r\n                    {column: 'losyr_1', value: 0.0},\r\n                    {column: 'losyr_20', value: 0.0},\r\n                    {column: 'crash_rate', value: 40.0},\r\n                    {column: 'crash_severity', value: 40.0},\r\n                    {column: 'weather', value: 0.0},\r\n                    {column: 'event', value: 0.0}\r\n                ]\r\n            },\r\n            {\r\n                label: 'Mobility Present',\r\n                presets: [\r\n                    {column: 'aadtyr_1', value: 25.0},\r\n                    {column: 'aadtyr_20', value: 25.0},\r\n                    {column: 'growth_20', value: 0.0},\r\n                    {column: 'trkdyr_1', value: 25.0},\r\n                    {column: 'losyr_1', value: 25.0},\r\n                    {column: 'losyr_20', value: 0.0},\r\n                    {column: 'crash_rate', value: 0.0},\r\n                    {column: 'crash_severity', value: 0.0},\r\n                    {column: 'weather', value: 0.0},\r\n                    {column: 'event', value: 0.0}\r\n                ]\r\n            },\r\n            {\r\n                label: 'Mobility Future',\r\n                presets: [\r\n                    {column: 'aadtyr_1', value: 0.0},\r\n                    {column: 'aadtyr_20', value: 25.0},\r\n                    {column: 'growth_20', value: 25.0},\r\n                    {column: 'trkdyr_1', value: 25.0},\r\n                    {column: 'losyr_1', value: 0.0},\r\n                    {column: 'losyr_20', value: 25.0},\r\n                    {column: 'crash_rate', value: 0.0},\r\n                    {column: 'crash_severity', value: 0.0},\r\n                    {column: 'weather', value: 0.0},\r\n                    {column: 'event', value: 0.0}\r\n                ]\r\n            },\r\n            {\r\n                label: 'Service',\r\n                presets: [\r\n                    {column: 'aadtyr_1', value: 30.0},\r\n                    {column: 'aadtyr_20', value: 0.0},\r\n                    {column: 'growth_20', value: 10.0},\r\n                    {column: 'trkdyr_1', value: 0.0},\r\n                    {column: 'losyr_1', value: 30.0},\r\n                    {column: 'losyr_20', value: 30.0},\r\n                    {column: 'crash_rate', value: 0.0},\r\n                    {column: 'crash_severity', value: 0.0},\r\n                    {column: 'weather', value: 0.0},\r\n                    {column: 'event', value: 0.0}\r\n                ]\r\n            },\r\n            {\r\n                label: 'Freight Performance',\r\n                presets: [\r\n                    {column: 'aadtyr_1', value: 20.0},\r\n                    {column: 'aadtyr_20', value: 0.0},\r\n                    {column: 'growth_20', value: 0.0},\r\n                    {column: 'trkdyr_1', value: 60.0},\r\n                    {column: 'losyr_1', value: 20.0},\r\n                    {column: 'losyr_20', value: 0.0},\r\n                    {column: 'crash_rate', value: 0.0},\r\n                    {column: 'crash_severity', value: 0.0},\r\n                    {column: 'weather', value: 0.0},\r\n                    {column: 'event', value: 0.0}\r\n                ]\r\n            }\r\n        ] as Array<TipPresetConfig>\r\n\r\n} as ITipConfig;\r\n\r\ntipConfig.$presetSelector.append('<option value=\"0\" disabled=>Custom</option>');\r\n\r\nlet sliders = new TipSliders(tipConfig.slidersConfig, tipConfig.presetConfig, 'slider-container',\r\n    tipConfig.$presetSelector, tipConfig.$regionSelector, tipConfig.$regionSelector, (chg) => {console.log(chg)});\r\n\r\n// sliders.changedCallback = (chg) => {console.log(chg)};\r\n\r\nwindow['glob'] = sliders;\r\nwindow['hat'] = sliders;\r\nwindow['bird'] = sliders;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/_tests/demos/slider-test.ts"],"sourceRoot":""}